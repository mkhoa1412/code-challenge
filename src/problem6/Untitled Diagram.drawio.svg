<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background: transparent; background-color: transparent; color-scheme: light dark;" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2761px" height="5722px" viewBox="-0.5 -0.5 2761 5722" content="&lt;mxfile host=&quot;app.diagrams.net&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36&quot; version=&quot;28.0.6&quot;&gt;&#10;  &lt;diagram name=&quot;Page-1&quot; id=&quot;6xmM07Rxp1uH1vAUqIiK&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2852&quot; dy=&quot;1486&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot; value=&quot;User/Client&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;20&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; value=&quot;API Server&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;355&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; value=&quot;Auth Service&amp;#xa;(includes Anti-Fraud)&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;707&quot; y=&quot;1140&quot; width=&quot;167&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-364&quot; value=&quot;Rate Limiter&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;924&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot; value=&quot;Redis Pub/Sub&amp;#xa;Message Queue&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1124&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; value=&quot;Score Worker&amp;#xa;(Background)&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1446&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot; value=&quot;PostgreSQL&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1796&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot; value=&quot;Redis Cache&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1996&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; value=&quot;SSE Endpoint&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2229&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-370&quot; value=&quot;Broadcaster&quot; style=&quot;shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&amp;quot;edgeStyle&amp;quot;:&amp;quot;elbowEdgeStyle&amp;quot;,&amp;quot;elbow&amp;quot;:&amp;quot;vertical&amp;quot;,&amp;quot;curved&amp;quot;:0,&amp;quot;rounded&amp;quot;:0};size=65;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;2630&quot; y=&quot;1140&quot; width=&quot;150&quot; height=&quot;5721&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-371&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;1644&quot; width=&quot;1998&quot; height=&quot;568&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-372&quot; value=&quot;[Valid credentials + no fraud flags]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-371&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;1968&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-373&quot; value=&quot;[Invalid credentials or fraud detected]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-371&quot;&gt;&#10;          &lt;mxGeometry y=&quot;289&quot; width=&quot;1998&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-374&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;60&quot; y=&quot;1264&quot; width=&quot;2032&quot; height=&quot;958&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-375&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-374&quot;&gt;&#10;          &lt;mxGeometry width=&quot;2032&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-376&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;2478&quot; width=&quot;2386&quot; height=&quot;486&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-377&quot; value=&quot;[Valid JWT &amp;amp; Session]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-376&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;2356&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-378&quot; value=&quot;[Invalid JWT]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-376&quot;&gt;&#10;          &lt;mxGeometry y=&quot;341&quot; width=&quot;2386&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-379&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;60&quot; y=&quot;2232&quot; width=&quot;2420&quot; height=&quot;742&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-380&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-379&quot;&gt;&#10;          &lt;mxGeometry width=&quot;2420&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-381&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;3743&quot; width=&quot;1998&quot; height=&quot;382&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-382&quot; value=&quot;[All validations passed]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-381&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;1968&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-383&quot; value=&quot;[Any validation failed]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-381&quot;&gt;&#10;          &lt;mxGeometry y=&quot;155&quot; width=&quot;1998&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-384&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;60&quot; y=&quot;2984&quot; width=&quot;2032&quot; height=&quot;1151&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-385&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-384&quot;&gt;&#10;          &lt;mxGeometry width=&quot;2032&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-386&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;4145&quot; width=&quot;1603&quot; height=&quot;295&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-387&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-386&quot;&gt;&#10;          &lt;mxGeometry width=&quot;1603&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-388&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1188&quot; y=&quot;4623&quot; width=&quot;894&quot; height=&quot;560&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-389&quot; value=&quot;[Action not processed]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-388&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;864&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-390&quot; value=&quot;[Action duplicate (race condition)]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-388&quot;&gt;&#10;          &lt;mxGeometry y=&quot;415&quot; width=&quot;894&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-391&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1178&quot; y=&quot;4450&quot; width=&quot;928&quot; height=&quot;743&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-392&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-391&quot;&gt;&#10;          &lt;mxGeometry width=&quot;928&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-393&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;5422&quot; width=&quot;2632&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-394&quot; value=&quot;[Top 10 changed]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-393&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;2602&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-395&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;74&quot; y=&quot;5272&quot; width=&quot;2652&quot; height=&quot;564&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-396&quot; value=&quot;[Score increment completed]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-395&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;2622&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-397&quot; value=&quot;[Duplicate action]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-395&quot;&gt;&#10;          &lt;mxGeometry y=&quot;419&quot; width=&quot;2652&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-398&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;60&quot; y=&quot;5203&quot; width=&quot;2676&quot; height=&quot;643&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-399&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-398&quot;&gt;&#10;          &lt;mxGeometry width=&quot;2676&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-400&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;84&quot; y=&quot;6148&quot; width=&quot;2328&quot; height=&quot;598&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-401&quot; value=&quot;[Valid refresh + no fraud]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-400&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;2298&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-402&quot; value=&quot;[Invalid or fraud detected]&quot; style=&quot;shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-400&quot;&gt;&#10;          &lt;mxGeometry y=&quot;289&quot; width=&quot;2328&quot; height=&quot;4&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-403&quot; value=&quot;alt&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;74&quot; y=&quot;5925&quot; width=&quot;2348&quot; height=&quot;831&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-404&quot; value=&quot;[Token expires]&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-403&quot;&gt;&#10;          &lt;mxGeometry x=&quot;30&quot; width=&quot;2318&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-405&quot; value=&quot;&quot; style=&quot;shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=0&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;60&quot; y=&quot;5856&quot; width=&quot;2372&quot; height=&quot;910&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-406&quot; value=&quot;&quot; style=&quot;text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;&quot; vertex=&quot;1&quot; parent=&quot;-4Zjxl5OjbuyPDGeBAuU-405&quot;&gt;&#10;          &lt;mxGeometry width=&quot;2372&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-407&quot; value=&quot;POST /api/auth/login&amp;#xa;{username, password}&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;271&quot; y=&quot;1386&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-408&quot; value=&quot;Validate credentials&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;619&quot; y=&quot;1438&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-409&quot; value=&quot;SELECT user + check account status&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1339&quot; y=&quot;1490&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-410&quot; value=&quot;User record + password_hash&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1342&quot; y=&quot;1542&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-411&quot; value=&quot;bcrypt.compare + anti-fraud checks&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;1594&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;1624&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-412&quot; value=&quot;Generate JWT tokens&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;1722&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;1752&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-413&quot; value=&quot;Store session + refresh token&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;1804&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-414&quot; value=&quot;{accessToken, refreshToken, user}&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;1856&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-415&quot; value=&quot;200 OK - Authentication Success&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;1908&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-416&quot; value=&quot;Log suspicious activity&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;2006&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;2036&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-417&quot; value=&quot;Increment failed attempt counter&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;2088&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-418&quot; value=&quot;Authentication failed&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;2140&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-419&quot; value=&quot;401 Unauthorized&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;2192&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-420&quot; value=&quot;GET /api/events/scoreboard&amp;#xa;Authorization: Bearer JWT&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1208&quot; y=&quot;2354&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-421&quot; value=&quot;Validate JWT token + session&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1558&quot; y=&quot;2406&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-422&quot; value=&quot;Check session validity&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;2458&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-423&quot; value=&quot;Valid session data&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1442&quot; y=&quot;2556&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-424&quot; value=&quot;User authenticated + validated&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1555&quot; y=&quot;2608&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-425&quot; value=&quot;Store client connection + subscribe to Redis&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2355&quot; y=&quot;2660&quot; /&gt;&#10;              &lt;mxPoint x=&quot;2355&quot; y=&quot;2690&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-426&quot; value=&quot;Get current scoreboard&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2199&quot; y=&quot;2742&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-427&quot; value=&quot;SSE connected + initial scoreboard data&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1211&quot; y=&quot;2794&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-428&quot; value=&quot;Token invalid/expired&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1555&quot; y=&quot;2892&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-429&quot; value=&quot;401 Unauthorized - Connection closed&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1211&quot; y=&quot;2944&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-430&quot; value=&quot;POST /api/scores/increment&amp;#xa;Authorization: Bearer JWT&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;271&quot; y=&quot;3106&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-431&quot; value=&quot;Comprehensive validation&amp;#xa;(JWT + Anti-Fraud + Rate Limiting)&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;619&quot; y=&quot;3179&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-432&quot; value=&quot;GET session + rate limits + action deduplication&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;3231&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-433&quot; value=&quot;Validate JWT signature + expiry&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3283&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3313&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-434&quot; value=&quot;Check rate limits (per user/IP)&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3365&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3395&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-435&quot; value=&quot;Validate clientHash + timestamp&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3447&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3477&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-436&quot; value=&quot;Check action deduplication&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3529&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3559&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-437&quot; value=&quot;Validate score increment range&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3611&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3641&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-439&quot; value=&quot;Mark action as processing + update counters&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;3821&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-440&quot; value=&quot;Validation successful + user context&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;3873&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-441&quot; value=&quot;Log security event + update fraud scores&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;3971&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;4001&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-442&quot; value=&quot;Validation failed with specific reason&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;4053&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-443&quot; value=&quot;400/401/409/429 with error details&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;4105&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-444&quot; value=&quot;Publish score_increment_request&amp;#xa;{userId, actionId, scoreIncrement, authContext}&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;823&quot; y=&quot;4267&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-445&quot; value=&quot;202 Accepted - Processing...&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;4319&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-446&quot; value=&quot;Consume score_increment_request&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1368&quot; y=&quot;4371&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-447&quot; value=&quot;START TRANSACTION&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4551&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-448&quot; value=&quot;Final deduplication check&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4603&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-449&quot; value=&quot;INSERT score_history with full audit trail&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4701&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-450&quot; value=&quot;UPDATE users SET current_score&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4753&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-451&quot; value=&quot;SELECT user rank + scoreboard position&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4805&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-452&quot; value=&quot;Updated user data + rank&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1707&quot; y=&quot;4857&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-453&quot; value=&quot;COMMIT TRANSACTION&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;4909&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-454&quot; value=&quot;Update user score cache + scoreboard cache&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1804&quot; y=&quot;4961&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-455&quot; value=&quot;Publish score_increment_completed&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1371&quot; y=&quot;5013&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-456&quot; value=&quot;ROLLBACK&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-367&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1704&quot; y=&quot;5111&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-457&quot; value=&quot;Publish score_increment_duplicate&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-366&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1371&quot; y=&quot;5163&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-458&quot; value=&quot;Consume score_increment_completed&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-370&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1960&quot; y=&quot;5350&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-459&quot; value=&quot;Get updated scoreboard data&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-370&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2399&quot; y=&quot;5402&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-460&quot; value=&quot;Broadcast scoreboard update to all SSE clients&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-370&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2516&quot; y=&quot;5500&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-461&quot; value=&quot;SSE: scoreboard_update event&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1211&quot; y=&quot;5552&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-462&quot; value=&quot;Send personal update to user&amp;#39;s SSE connection&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-370&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2516&quot; y=&quot;5614&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-463&quot; value=&quot;SSE: user_score_update event&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1211&quot; y=&quot;5666&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-464&quot; value=&quot;Consume score_increment_duplicate&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-365&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1760&quot; y=&quot;5764&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-465&quot; value=&quot;SSE: duplicate_action notification&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1211&quot; y=&quot;5816&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-466&quot; value=&quot;POST /api/auth/refresh&amp;#xa;{refreshToken}&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;271&quot; y=&quot;6024&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-467&quot; value=&quot;Validate refresh token + anti-fraud check&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;619&quot; y=&quot;6076&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-468&quot; value=&quot;Verify refresh token + check user status&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;6128&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-469&quot; value=&quot;Generate new tokens&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;6226&quot; /&gt;&#10;              &lt;mxPoint x=&quot;841&quot; y=&quot;6256&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-470&quot; value=&quot;Update session + refresh token&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;6308&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-471&quot; value=&quot;New tokens&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;6360&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-472&quot; value=&quot;200 OK + new tokens&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;6412&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-473&quot; value=&quot;Clear user sessions + log event&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-368&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;1439&quot; y=&quot;6510&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-474&quot; value=&quot;Refresh failed&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-363&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;622&quot; y=&quot;6562&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-475&quot; value=&quot;401 Unauthorized - Re-login required&quot; style=&quot;verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-362&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-361&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;274&quot; y=&quot;6614&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-476&quot; value=&quot;Close user&amp;#39;s SSE connection&quot; style=&quot;curved=1;endArrow=block;rounded=0;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot; target=&quot;-4Zjxl5OjbuyPDGeBAuU-369&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;2355&quot; y=&quot;6666&quot; /&gt;&#10;              &lt;mxPoint x=&quot;2355&quot; y=&quot;6696&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-477&quot; value=&quot;Simplified Async System: SSE + Consolidated Auth&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;1215&quot; width=&quot;2660&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-478&quot; value=&quot;Authentication Flow&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;1284&quot; width=&quot;745&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-479&quot; value=&quot;Server-Sent Events Connection&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;2252&quot; width=&quot;2259&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-480&quot; value=&quot;Consolidated Auth + Anti-Fraud Pipeline&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;3004&quot; width=&quot;745&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-481&quot; value=&quot;Simplified Async Message Queue Flow&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;405&quot; y=&quot;4165&quot; width=&quot;1141&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-482&quot; value=&quot;Background processing with auth context&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1364&quot; y=&quot;4391&quot; width=&quot;313&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-483&quot; value=&quot;Database &amp;amp; Cache Updates&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;1496&quot; y=&quot;4470&quot; width=&quot;600&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-484&quot; value=&quot;Real-time Updates via SSE&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;5223&quot; width=&quot;1476&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;-4Zjxl5OjbuyPDGeBAuU-485&quot; value=&quot;Token Refresh&quot; style=&quot;fillColor=#ffff88;strokeColor=#9E916F;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;70&quot; y=&quot;5876&quot; width=&quot;745&quot; height=&quot;49&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g data-cell-id="0"><g data-cell-id="1"><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-361"><g><rect x="0" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 75 65 L 75 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">User/Client</div></div></div></foreignObject><text x="75" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">User/Client</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-362"><g><rect x="335" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 410 65 L 410 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 336px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">API Server</div></div></div></foreignObject><text x="410" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">API Server</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-363"><g><rect x="687" y="0" width="167" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.5 65 L 770.5 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 165px; height: 1px; padding-top: 33px; margin-left: 688px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Auth Service<br />(includes Anti-Fraud)</div></div></div></foreignObject><text x="771" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Auth Service...</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-364"><g><rect x="904" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 979 65 L 979 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 905px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Rate Limiter</div></div></div></foreignObject><text x="979" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Rate Limiter</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-365"><g><rect x="1104" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1179 65 L 1179 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 1105px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Redis Pub/Sub<br />Message Queue</div></div></div></foreignObject><text x="1179" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis Pub/Sub...</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-366"><g><rect x="1426" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1501 65 L 1501 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 1427px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Score Worker<br />(Background)</div></div></div></foreignObject><text x="1501" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Score Worker...</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-367"><g><rect x="1776" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1851 65 L 1851 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 1777px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PostgreSQL</div></div></div></foreignObject><text x="1851" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">PostgreSQL</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-368"><g><rect x="1976" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2051 65 L 2051 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 1977px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Redis Cache</div></div></div></foreignObject><text x="2051" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis Cache</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-369"><g><rect x="2209" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2284 65 L 2284 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 2210px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SSE Endpoint</div></div></div></foreignObject><text x="2284" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">SSE Endpoint</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-370"><g><rect x="2610" y="0" width="150" height="65" fill="#ffffff" stroke="#000000" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2685 65 L 2685 5721" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 33px; margin-left: 2611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Broadcaster</div></div></div></foreignObject><text x="2685" y="36" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">Broadcaster</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-371"><g><path d="M 64 504 L 94 504 L 94 509 L 84 524 L 64 524 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 94 504 L 2062 504 L 2062 1072 L 64 1072 L 64 524" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="79" y="519">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-372"><g><rect x="94" y="504" width="1968" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1966px; height: 1px; padding-top: 514px; margin-left: 95px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Valid credentials + no fraud flags]</div></div></div></foreignObject><text x="1078" y="518" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Valid credentials + no fraud flags]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-373"><g><path d="M 64 795 L 2062 795" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1996px; height: 1px; padding-top: 800px; margin-left: 65px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Invalid credentials or fraud detected]</div></div></div></foreignObject><text x="1063" y="812" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Invalid credentials or fraud detected]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-374"><g><path d="M 40 124 L 50 124 L 50 129 L 40 144 L 40 144 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 50 124 L 2072 124 L 2072 1082 L 40 1082 L 40 144" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-375"><g><rect x="40" y="124" width="2032" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-376"><g><path d="M 64 1338 L 94 1338 L 94 1343 L 84 1358 L 64 1358 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 94 1338 L 2450 1338 L 2450 1824 L 64 1824 L 64 1358" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="79" y="1353">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-377"><g><rect x="94" y="1338" width="2356" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2354px; height: 1px; padding-top: 1348px; margin-left: 95px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Valid JWT &amp; Session]</div></div></div></foreignObject><text x="1272" y="1352" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Valid JWT &amp; Session]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-378"><g><path d="M 64 1681 L 2450 1681" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 2384px; height: 1px; padding-top: 1686px; margin-left: 65px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Invalid JWT]</div></div></div></foreignObject><text x="1257" y="1698" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Invalid JWT]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-379"><g><path d="M 40 1092 L 50 1092 L 50 1097 L 40 1112 L 40 1112 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 50 1092 L 2460 1092 L 2460 1834 L 40 1834 L 40 1112" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-380"><g><rect x="40" y="1092" width="2420" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-381"><g><path d="M 64 2603 L 94 2603 L 94 2608 L 84 2623 L 64 2623 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 94 2603 L 2062 2603 L 2062 2985 L 64 2985 L 64 2623" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="79" y="2618">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-382"><g><rect x="94" y="2603" width="1968" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1966px; height: 1px; padding-top: 2613px; margin-left: 95px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[All validations passed]</div></div></div></foreignObject><text x="1078" y="2617" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[All validations passed]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-383"><g><path d="M 64 2760 L 2062 2760" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1996px; height: 1px; padding-top: 2765px; margin-left: 65px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Any validation failed]</div></div></div></foreignObject><text x="1063" y="2777" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Any validation failed]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-384"><g><path d="M 40 1844 L 50 1844 L 50 1849 L 40 1864 L 40 1864 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 50 1844 L 2072 1844 L 2072 2995 L 40 2995 L 40 1864" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-385"><g><rect x="40" y="1844" width="2032" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-386"><g><path d="M 64 3005 L 74 3005 L 74 3010 L 64 3025 L 64 3025 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 74 3005 L 1667 3005 L 1667 3300 L 64 3300 L 64 3025" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-387"><g><rect x="64" y="3005" width="1603" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-388"><g><path d="M 1168 3483 L 1198 3483 L 1198 3488 L 1188 3503 L 1168 3503 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 1198 3483 L 2062 3483 L 2062 4043 L 1168 4043 L 1168 3503" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1183" y="3498">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-389"><g><rect x="1198" y="3483" width="864" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 862px; height: 1px; padding-top: 3493px; margin-left: 1199px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Action not processed]</div></div></div></foreignObject><text x="1630" y="3497" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Action not processed]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-390"><g><path d="M 1168 3900 L 2062 3900" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 892px; height: 1px; padding-top: 3905px; margin-left: 1169px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Action duplicate (race condition)]</div></div></div></foreignObject><text x="1615" y="3917" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Action duplicate (race condition)]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-391"><g><path d="M 1158 3310 L 1168 3310 L 1168 3315 L 1158 3330 L 1158 3330 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 1168 3310 L 2086 3310 L 2086 4053 L 1158 4053 L 1158 3330" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-392"><g><rect x="1158" y="3310" width="928" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-393"><g><path d="M 64 4282 L 94 4282 L 94 4287 L 84 4302 L 64 4302 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 94 4282 L 2696 4282 L 2696 4432 L 64 4432 L 64 4302" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="79" y="4297">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-394"><g><rect x="94" y="4282" width="2602" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2600px; height: 1px; padding-top: 4292px; margin-left: 95px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Top 10 changed]</div></div></div></foreignObject><text x="1395" y="4296" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Top 10 changed]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-395"><g><path d="M 54 4132 L 84 4132 L 84 4137 L 74 4152 L 54 4152 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 84 4132 L 2706 4132 L 2706 4696 L 54 4696 L 54 4152" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="69" y="4147">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-396"><g><rect x="84" y="4132" width="2622" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2620px; height: 1px; padding-top: 4142px; margin-left: 85px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Score increment completed]</div></div></div></foreignObject><text x="1395" y="4146" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Score increment completed]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-397"><g><path d="M 54 4553 L 2706 4553" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 2650px; height: 1px; padding-top: 4558px; margin-left: 55px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Duplicate action]</div></div></div></foreignObject><text x="1380" y="4570" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Duplicate action]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-398"><g><path d="M 40 4063 L 50 4063 L 50 4068 L 40 4083 L 40 4083 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 50 4063 L 2716 4063 L 2716 4706 L 40 4706 L 40 4083" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-399"><g><rect x="40" y="4063" width="2676" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-400"><g><path d="M 64 5008 L 94 5008 L 94 5013 L 84 5028 L 64 5028 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 94 5008 L 2392 5008 L 2392 5606 L 64 5606 L 64 5028" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="79" y="5023">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-401"><g><rect x="94" y="5008" width="2298" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2296px; height: 1px; padding-top: 5018px; margin-left: 95px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Valid refresh + no fraud]</div></div></div></foreignObject><text x="1243" y="5022" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Valid refresh + no fraud]</text></switch></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-402"><g><path d="M 64 5299 L 2392 5299" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 2326px; height: 1px; padding-top: 5304px; margin-left: 65px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Invalid or fraud detected]</div></div></div></foreignObject><text x="1228" y="5316" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Invalid or fraud detected]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-403"><g><path d="M 54 4785 L 84 4785 L 84 4790 L 74 4805 L 54 4805 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 84 4785 L 2402 4785 L 2402 5616 L 54 5616 L 54 4805" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="69" y="4799.5">alt</text></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-404"><g><rect x="84" y="4785" width="2318" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2316px; height: 1px; padding-top: 4795px; margin-left: 85px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; color: #000000; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: light-dark(#000000, #ffffff); line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[Token expires]</div></div></div></foreignObject><text x="1243" y="4799" fill="light-dark(#000000, #ffffff)" font-family="Helvetica" font-size="12px" text-anchor="middle">[Token expires]</text></switch></g></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-405"><g><path d="M 40 4716 L 50 4716 L 50 4721 L 40 4736 L 40 4736 Z" fill="#ffffff" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212)); stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/><path d="M 50 4716 L 2412 4716 L 2412 5626 L 40 5626 L 40 4736" fill="none" stroke="#b3b3b3" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none" style="stroke: light-dark(rgb(179, 179, 179), rgb(83, 83, 83));"/></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-406"><g><rect x="40" y="4716" width="2372" height="20" fill="none" stroke="none" pointer-events="all"/></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-407"><g><path d="M 73.5 246 L 251 246 L 401.38 246" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 408.38 246 L 401.38 249.5 L 401.38 242.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="187" y="218" width="111" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="228">POST /api/auth/login</text><text x="241.5" y="241">{username, password}</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-408"><g><path d="M 408.5 298 L 599 298 L 761.88 298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 768.88 298 L 761.88 301.5 L 761.88 294.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="541" y="283" width="97" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="588.5" y="293">Validate credentials</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-409"><g><path d="M 769 350 L 1319 350 L 1842.38 350" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 350 L 1842.38 353.5 L 1842.38 346.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1218" y="335" width="184" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1309" y="345">SELECT user + check account status</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-410"><g><path d="M 1850.5 402 L 1322 402 L 777.12 402" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 402 L 777.12 398.5 L 777.12 405.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1237" y="387" width="149" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1310.5" y="397">User record + password_hash</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-411"><g><path d="M 769 454 Q 821 454 821 469 Q 821 484 777.12 484" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 484 L 777.12 480.5 L 777.12 487.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="735" y="464" width="174" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="474.5">bcrypt.compare + anti-fraud checks</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-412"><g><path d="M 769 582 Q 821 582 821 597 Q 821 612 777.12 612" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 612 L 777.12 608.5 L 777.12 615.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="767" y="592" width="109" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="602.5">Generate JWT tokens</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-413"><g><path d="M 769 664 L 1419 664 L 2042.38 664" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 664 L 2042.38 667.5 L 2042.38 660.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1337" y="649" width="145" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="659">Store session + refresh token</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-414"><g><path d="M 770 716 L 602 716 L 416.62 716" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 716 L 416.62 712.5 L 416.62 719.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="506" y="701" width="170" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="711">{accessToken, refreshToken, user}</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-415"><g><path d="M 409.5 768 L 254 768 L 81.62 768" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 768 L 81.62 764.5 L 81.62 771.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="161" y="753" width="163" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="763">200 OK - Authentication Success</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-416"><g><path d="M 769 866 Q 821 866 821 881 Q 821 896 777.12 896" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 896 L 777.12 892.5 L 777.12 899.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="766" y="876" width="111" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="886.5">Log suspicious activity</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-417"><g><path d="M 769 948 L 1419 948 L 2042.38 948" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 948 L 2042.38 951.5 L 2042.38 944.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1330" y="933" width="160" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="943">Increment failed attempt counter</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-418"><g><path d="M 770 1000 L 602 1000 L 416.62 1000" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 1000 L 416.62 996.5 L 416.62 1003.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="540" y="985" width="101" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="995">Authentication failed</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-419"><g><path d="M 409.5 1052 L 254 1052 L 81.62 1052" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 1052 L 81.62 1048.5 L 81.62 1055.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="198" y="1037" width="89" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="1047">401 Unauthorized</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-420"><g><path d="M 73.5 1214 L 1188 1214 L 2275.38 1214" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2282.38 1214 L 2275.38 1217.5 L 2275.38 1210.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1111" y="1186" width="139" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1179.5" y="1196">GET /api/events/scoreboard</text><text x="1179.5" y="1209">Authorization: Bearer JWT</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-421"><g><path d="M 2283.5 1266 L 1538 1266 L 777.12 1266" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 1266 L 777.12 1262.5 L 777.12 1269.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1453" y="1251" width="146" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1525.5" y="1261">Validate JWT token + session</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-422"><g><path d="M 769 1318 L 1419 1318 L 2042.38 1318" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 1318 L 2042.38 1321.5 L 2042.38 1314.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1355" y="1303" width="110" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="1313">Check session validity</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-423"><g><path d="M 2050.5 1416 L 1422 1416 L 777.12 1416" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 1416 L 777.12 1412.5 L 777.12 1419.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1366" y="1401" width="90" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1410.5" y="1411">Valid session data</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-424"><g><path d="M 769 1468 L 1535 1468 L 2275.38 1468" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2282.38 1468 L 2275.38 1471.5 L 2275.38 1464.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1452" y="1453" width="151" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1527" y="1463">User authenticated + validated</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-425"><g><path d="M 2282.5 1520 Q 2335 1520 2335 1535 Q 2335 1550 2290.62 1550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2283.62 1550 L 2290.62 1546.5 L 2290.62 1553.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2228" y="1530" width="216" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2335" y="1540">Store client connection + subscribe to Redis</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-426"><g><path d="M 2283.5 1602 L 2179 1602 L 2057.62 1602" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2050.62 1602 L 2057.62 1598.5 L 2057.62 1605.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2109" y="1587" width="115" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2165.5" y="1597">Get current scoreboard</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-427"><g><path d="M 2283.5 1654 L 1191 1654 L 81.62 1654" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 1654 L 81.62 1650.5 L 81.62 1657.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1079" y="1639" width="198" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1177.5" y="1649">SSE connected + initial scoreboard data</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-428"><g><path d="M 769 1752 L 1535 1752 L 2275.38 1752" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2282.38 1752 L 2275.38 1755.5 L 2275.38 1748.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1475" y="1737" width="105" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1527" y="1747">Token invalid/expired</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-429"><g><path d="M 2283.5 1804 L 1191 1804 L 81.62 1804" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 1804 L 81.62 1800.5 L 81.62 1807.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1084" y="1789" width="189" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1177.5" y="1799">401 Unauthorized - Connection closed</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-430"><g><path d="M 73.5 1966 L 251 1966 L 401.38 1966" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 408.38 1966 L 401.38 1969.5 L 401.38 1962.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="173" y="1938" width="139" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="1948">POST /api/scores/increment</text><text x="241.5" y="1961">Authorization: Bearer JWT</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-431"><g><path d="M 408.5 2039 L 599 2039 L 761.88 2039" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 768.88 2039 L 761.88 2042.5 L 761.88 2035.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="503" y="2011" width="172" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="588.5" y="2021">Comprehensive validation</text><text x="588.5" y="2034">(JWT + Anti-Fraud + Rate Limiting)</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-432"><g><path d="M 769 2091 L 1419 2091 L 2042.38 2091" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 2091 L 2042.38 2094.5 L 2042.38 2087.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1293" y="2076" width="234" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="2086">GET session + rate limits + action deduplication</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-433"><g><path d="M 769 2143 Q 821 2143 821 2158 Q 821 2173 777.12 2173" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2173 L 777.12 2169.5 L 777.12 2176.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="743" y="2153" width="157" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2163.5">Validate JWT signature + expiry</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-434"><g><path d="M 769 2225 Q 821 2225 821 2240 Q 821 2255 777.12 2255" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2255 L 777.12 2251.5 L 777.12 2258.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="748" y="2235" width="147" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2245.5">Check rate limits (per user/IP)</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-435"><g><path d="M 769 2307 Q 821 2307 821 2322 Q 821 2337 777.12 2337" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2337 L 777.12 2333.5 L 777.12 2340.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="742" y="2317" width="159" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2327.5">Validate clientHash + timestamp</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-436"><g><path d="M 769 2389 Q 821 2389 821 2404 Q 821 2419 777.12 2419" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2419 L 777.12 2415.5 L 777.12 2422.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="755" y="2399" width="133" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2409.5">Check action deduplication</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-437"><g><path d="M 769 2471 Q 821 2471 821 2486 Q 821 2501 777.12 2501" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2501 L 777.12 2497.5 L 777.12 2504.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="745" y="2481" width="153" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2491.5">Validate score increment range</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-439"><g><path d="M 769 2681 L 1419 2681 L 2042.38 2681" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 2681 L 2042.38 2684.5 L 2042.38 2677.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1299" y="2666" width="221" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="2676">Mark action as processing + update counters</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-440"><g><path d="M 770 2733 L 602 2733 L 416.62 2733" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 2733 L 416.62 2729.5 L 416.62 2736.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="503" y="2718" width="176" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="2728">Validation successful + user context</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-441"><g><path d="M 769 2831 Q 821 2831 821 2846 Q 821 2861 777.12 2861" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 2861 L 777.12 2857.5 L 777.12 2864.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="721" y="2841" width="201" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="2851.5">Log security event + update fraud scores</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-442"><g><path d="M 770 2913 L 602 2913 L 416.62 2913" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 2913 L 416.62 2909.5 L 416.62 2916.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="502" y="2898" width="178" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="2908">Validation failed with specific reason</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-443"><g><path d="M 409.5 2965 L 254 2965 L 81.62 2965" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 2965 L 81.62 2961.5 L 81.62 2968.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="158" y="2950" width="168" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="2960">400/401/409/429 with error details</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-444"><g><path d="M 408.5 3127 L 803 3127 L 1170.38 3127" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1177.38 3127 L 1170.38 3130.5 L 1170.38 3123.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="679" y="3099" width="232" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="794.5" y="3109">Publish score_increment_request</text><text x="794.5" y="3122">{userId, actionId, scoreIncrement, authContext}</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-445"><g><path d="M 409.5 3179 L 254 3179 L 81.62 3179" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 3179 L 81.62 3175.5 L 81.62 3182.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="171" y="3164" width="142" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="3174">202 Accepted - Processing...</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-446"><g><path d="M 1177.5 3231 L 1348 3231 L 1492.38 3231" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1499.38 3231 L 1492.38 3234.5 L 1492.38 3227.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1252" y="3216" width="176" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1339.5" y="3226">Consume score_increment_request</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-447"><g><path d="M 1499.5 3411 L 1684 3411 L 1842.38 3411" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3411 L 1842.38 3414.5 L 1842.38 3407.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1617" y="3396" width="119" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3406">START TRANSACTION</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-448"><g><path d="M 1499.5 3463 L 1684 3463 L 1842.38 3463" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3463 L 1842.38 3466.5 L 1842.38 3459.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1613" y="3448" width="126" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3458">Final deduplication check</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-449"><g><path d="M 1499.5 3561 L 1684 3561 L 1842.38 3561" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3561 L 1842.38 3564.5 L 1842.38 3557.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1577" y="3546" width="198" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3556">INSERT score_history with full audit trail</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-450"><g><path d="M 1499.5 3613 L 1684 3613 L 1842.38 3613" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3613 L 1842.38 3616.5 L 1842.38 3609.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1591" y="3598" width="170" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3608">UPDATE users SET current_score</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-451"><g><path d="M 1499.5 3665 L 1684 3665 L 1842.38 3665" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3665 L 1842.38 3668.5 L 1842.38 3661.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1575" y="3650" width="202" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3660">SELECT user rank + scoreboard position</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-452"><g><path d="M 1850.5 3717 L 1687 3717 L 1507.62 3717" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1500.62 3717 L 1507.62 3713.5 L 1507.62 3720.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1612" y="3702" width="126" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1674.5" y="3712">Updated user data + rank</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-453"><g><path d="M 1499.5 3769 L 1684 3769 L 1842.38 3769" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3769 L 1842.38 3772.5 L 1842.38 3765.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1612" y="3754" width="128" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3764">COMMIT TRANSACTION</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-454"><g><path d="M 1499.5 3821 L 1784 3821 L 2042.38 3821" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 3821 L 2042.38 3824.5 L 2042.38 3817.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1664" y="3806" width="224" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1775.5" y="3816">Update user score cache + scoreboard cache</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-455"><g><path d="M 1500.5 3873 L 1351 3873 L 1185.62 3873" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1178.62 3873 L 1185.62 3869.5 L 1185.62 3876.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1250" y="3858" width="179" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1338.5" y="3868">Publish score_increment_completed</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-456"><g><path d="M 1499.5 3971 L 1684 3971 L 1842.38 3971" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1849.38 3971 L 1842.38 3974.5 L 1842.38 3967.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1646" y="3956" width="61" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1675.5" y="3966">ROLLBACK</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-457"><g><path d="M 1500.5 4023 L 1351 4023 L 1185.62 4023" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 1178.62 4023 L 1185.62 4019.5 L 1185.62 4026.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1253" y="4008" width="173" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1338.5" y="4018">Publish score_increment_duplicate</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-458"><g><path d="M 1177.5 4210 L 1940 4210 L 2676.38 4210" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2683.38 4210 L 2676.38 4213.5 L 2676.38 4206.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1837" y="4195" width="190" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1931.5" y="4205">Consume score_increment_completed</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-459"><g><path d="M 2684.5 4262 L 2379 4262 L 2057.62 4262" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2050.62 4262 L 2057.62 4258.5 L 2057.62 4265.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2295" y="4247" width="145" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2366.5" y="4257">Get updated scoreboard data</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-460"><g><path d="M 2684.5 4360 L 2496 4360 L 2290.62 4360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2283.62 4360 L 2290.62 4356.5 L 2290.62 4363.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2367" y="4345" width="232" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2482.5" y="4355">Broadcast scoreboard update to all SSE clients</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-461"><g><path d="M 2283.5 4412 L 1191 4412 L 81.62 4412" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 4412 L 81.62 4408.5 L 81.62 4415.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1101" y="4397" width="155" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1177.5" y="4407">SSE: scoreboard_update event</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-462"><g><path d="M 2684.5 4474 L 2496 4474 L 2290.62 4474" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2283.62 4474 L 2290.62 4470.5 L 2290.62 4477.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2366" y="4459" width="235" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2482.5" y="4469">Send personal update to user's SSE connection</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-463"><g><path d="M 2283.5 4526 L 1191 4526 L 81.62 4526" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 4526 L 81.62 4522.5 L 81.62 4529.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1101" y="4511" width="154" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1177.5" y="4521">SSE: user_score_update event</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-464"><g><path d="M 1177.5 4624 L 1740 4624 L 2275.38 4624" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2282.38 4624 L 2275.38 4627.5 L 2275.38 4620.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1640" y="4609" width="184" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1731.5" y="4619">Consume score_increment_duplicate</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-465"><g><path d="M 2283.5 4676 L 1191 4676 L 81.62 4676" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 4676 L 81.62 4672.5 L 81.62 4679.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1096" y="4661" width="165" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1177.5" y="4671">SSE: duplicate_action notification</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-466"><g><path d="M 73.5 4884 L 251 4884 L 401.38 4884" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 408.38 4884 L 401.38 4887.5 L 401.38 4880.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="185" y="4856" width="114" height="27" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="4866">POST /api/auth/refresh</text><text x="241.5" y="4879">{refreshToken}</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-467"><g><path d="M 408.5 4936 L 599 4936 L 761.88 4936" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 768.88 4936 L 761.88 4939.5 L 761.88 4932.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="490" y="4921" width="199" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="588.5" y="4931">Validate refresh token + anti-fraud check</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-468"><g><path d="M 769 4988 L 1419 4988 L 2042.38 4988" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 4988 L 2042.38 4991.5 L 2042.38 4984.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1312" y="4973" width="195" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="4983">Verify refresh token + check user status</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-469"><g><path d="M 769 5086 Q 821 5086 821 5101 Q 821 5116 777.12 5116" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 770.12 5116 L 777.12 5112.5 L 777.12 5119.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="768" y="5096" width="107" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="821" y="5106.5">Generate new tokens</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-470"><g><path d="M 769 5168 L 1419 5168 L 2042.38 5168" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 5168 L 2042.38 5171.5 L 2042.38 5164.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1332" y="5153" width="155" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="5163">Update session + refresh token</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-471"><g><path d="M 770 5220 L 602 5220 L 416.62 5220" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 5220 L 416.62 5216.5 L 416.62 5223.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="561" y="5205" width="59" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="5215">New tokens</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-472"><g><path d="M 409.5 5272 L 254 5272 L 81.62 5272" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 5272 L 81.62 5268.5 L 81.62 5275.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="189" y="5257" width="107" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="5267">200 OK + new tokens</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-473"><g><path d="M 769 5370 L 1419 5370 L 2042.38 5370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2049.38 5370 L 2042.38 5373.5 L 2042.38 5366.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="1332" y="5355" width="156" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="1409" y="5365">Clear user sessions + log event</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-474"><g><path d="M 770 5422 L 602 5422 L 416.62 5422" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 409.62 5422 L 416.62 5418.5 L 416.62 5425.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="556" y="5407" width="70" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="590" y="5417">Refresh failed</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-475"><g><path d="M 409.5 5474 L 254 5474 L 81.62 5474" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="2 3" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 74.62 5474 L 81.62 5470.5 L 81.62 5477.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="151" y="5459" width="183" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="241.5" y="5469">401 Unauthorized - Re-login required</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-476"><g><path d="M 2282.5 5526 Q 2335 5526 2335 5541 Q 2335 5556 2290.62 5556" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke" style="stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/><path d="M 2283.62 5556 L 2290.62 5552.5 L 2290.62 5559.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); stroke: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="11px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><rect fill="#ffffff" stroke="none" x="2264" y="5536" width="144" height="14" stroke-width="0" style="fill: light-dark(#ffffff, var(--ge-dark-color, #121212));"/><text x="2335" y="5546">Close user's SSE connection</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-477"><g><rect x="50" y="75" width="2660" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1380" y="104.5">Simplified Async System: SSE + Consolidated Auth</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-478"><g><rect x="50" y="144" width="745" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="422.5" y="173.5">Authentication Flow</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-479"><g><rect x="50" y="1112" width="2259" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1179.5" y="1141.5">Server-Sent Events Connection</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-480"><g><rect x="50" y="1864" width="745" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="422.5" y="1893.5">Consolidated Auth + Anti-Fraud Pipeline</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-481"><g><rect x="385" y="3025" width="1141" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="955.5" y="3054.5">Simplified Async Message Queue Flow</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-482"><g><rect x="1344" y="3251" width="313" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1500.5" y="3280.5">Background processing with auth context</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-483"><g><rect x="1476" y="3330" width="600" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="1776" y="3359.5">Database &amp; Cache Updates</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-484"><g><rect x="50" y="4083" width="1476" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="788" y="4112.5">Real-time Updates via SSE</text></g></g></g><g data-cell-id="-4Zjxl5OjbuyPDGeBAuU-485"><g><rect x="50" y="4736" width="745" height="49" fill="#ffff88" stroke="#9e916f" pointer-events="all" style="fill: light-dark(rgb(255, 255, 136), rgb(33, 33, 0)); stroke: light-dark(rgb(158, 145, 111), rgb(123, 112, 82));"/></g><g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px" style="fill: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));"><text x="422.5" y="4765.5">Token Refresh</text></g></g></g></g></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>